@model Dept_Labour_Immi.Dto.UserDto
@using Dept_Labour_Immi.Enum;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var error = TempData["Error"] as string;
    var UserCount = ViewBag.UserCount as string;
}

<div style="margin: auto; width: 40%; margin-top: 100px;">
    <form class="justify-content-center" asp-action="login" id="formID">
        <div style="border: 2px solid green; padding: 10px;background-color:gray">
            @if (!string.IsNullOrEmpty(error))
            {
                <h2 class="alert-danger">@error</h2>
            }

            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" asp-for="UserName" placeholder="Enter User Name" value="@ViewBag.USERNAME" required>
                <label asp-for="UserName">User Name</label>
            </div>
            <div class="form-floating mt-3 mb-3">
                <input class="form-control" asp-for="Password" type="password" oncopy="return false" onpaste="return false" value="@ViewBag.PASSWORD" placeholder="Enter password" required>
                <label asp-for="Password">Password</label>
            </div>
            @* <div class="form-group my-3">
            <input type="checkbox" asp-for="RememberMe" id="rememberme" />
            <label asp-for="RememberMe" onclick="Checked()">Remember Me</label>
            <span asp-validation-for="RememberMe" class="text-danger"></span>
            </div>*@
            <div class="form-group">
                <label><input type="checkbox" asp-for="RememberMe" id="ch" />Remember Me</label>
            </div>

            <button type="submit" id="submitBtn" class="btn btn-primary btn-lg customButton" style="margin-left:250px;"><i class="bi bi-box-arrow-in-right"></i>&nbsp;&nbsp; Login</button>

        </div>
        @if (UserCount == ConstantValues.NewOrNot)
        {
            @* <div class="row my-3">
        <div class="col-7"></div>
        <div class="col-5">
        <a class="text-decoration-none text-danger" asp-action="Create">Create New Account</a>
        </div>
        </div>*@

            <div class="float-end my-3">
                <a class="text-decoration-none text-danger" asp-action="ProveAdmin" style="width:100%; font-size:medium;">Create New Account</a>
            </div>
        }
    </form>
</div>
@*<a class="btn btn-success" asp-action="ProveAdmin">Prove Admin</a>*@
@section Scripts{
    @{
        await Html.RenderPartialAsync("_validationscriptspartial");
    }
}

<script>
    window.onload = function () {
        if (@ViewBag.Yes == 1) {
            //document.getElementById("rememberme").classList.add('checked');
            document.getElementById("ch").checked=true;
            //alert("yes is 1 inside")
        }
        //alert("hello")

       // alert("end")
    }

    //document.getElementById("formID").addEventListener('submit', function (e) {
    //    var s = document.getElementById("usercount").value
    //    var ss = document.getElementById("newornot").value
    //    if (s == ss) {
    //        //e.preventDefault();
    //        alert("ther i")
    //    }
    //    alert("there is no account at the moment");
    //}

    //    document.getElementById("ch").addEventListener('click', function () {
    //    alert("check")
   // });
</script>

